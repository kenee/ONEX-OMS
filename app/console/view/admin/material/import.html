<!--
  Copyright 2026 ShopeX (https://www.shopex.cn)

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<div class="tableform"><h3>仓储：<{$wms.channel_name}></h3>
<div class="division">

<h5>第一步，下载CSV模板文件</h5>
<form method="post" action="index.php?app=wms&ctl=admin_material&act=download_template" class="tableform" target='download' enctype="multipart/form-data">
  <{button class="btn-primary" label="下载" type="submit"}>
</form>

<h5>第二步，填写CSV文件</h5>
<div class="tableform">打开CSV文件,在里面对应写入上传内容。</div>

<h5>第三步，上传填写好的CSV文件</h5>
<form action='index.php?app=wms&ctl=admin_material&act=index&action=to_import' method='post' target="uploadframe" enctype="multipart/form-data" id="import_form" class="tableform">
<div class="division" >

<input type='hidden' name='wms_id' value="<{$wms.channel_id}>" id='wms_id' />
<input type='file' name='import_file' id='ImportCSV'/>
</div>
<div class="table-action">
<{button label=$___desktop="导入"|t:'desktop' id="ImportBtn"  type="submit"}>
</div>
</form>
<script>
(function(){
  var state;
  $('ImportBtn').addEvent('click',function(e){
    if(state||!$('ImportCSV').value.length || !$('wms_id').value)return false;
    state=true;
    this.style.cursor='not-allowed';
  });
  $('ImportCSV').addEvent('change',function(e){
    state=false;
    $('ImportBtn').style.cursor='pointer';
  });
})();
</script>




